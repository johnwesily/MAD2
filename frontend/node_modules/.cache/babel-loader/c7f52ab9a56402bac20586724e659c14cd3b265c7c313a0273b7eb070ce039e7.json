{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  id: \"app\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Vue.js & Flask User Authentication\", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Register\", -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Register\", -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Login\", -1 /* HOISTED */);\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Login\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  key: 1\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Protected Content\", -1 /* HOISTED */);\nexport function render(_ctx, _cache) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, !_ctx.isAuthenticated ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => _ctx.register && _ctx.register(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.registerData.username = $event),\n    placeholder: \"Username\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.registerData.username]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.registerData.password = $event),\n    placeholder: \"Password\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.registerData.password]]), _hoisted_5], 32 /* NEED_HYDRATION */), _hoisted_6, _createElementVNode(\"form\", {\n    onSubmit: _cache[5] || (_cache[5] = _withModifiers((...args) => _ctx.login && _ctx.login(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.loginData.username = $event),\n    placeholder: \"Username\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.loginData.username]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.loginData.password = $event),\n    placeholder: \"Password\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.loginData.password]]), _hoisted_7], 32 /* NEED_HYDRATION */)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_hoisted_9, _createElementVNode(\"p\", null, _toDisplayString(_ctx.protectedMessage), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[6] || (_cache[6] = (...args) => _ctx.logout && _ctx.logout(...args))\n  }, \"Logout\")]))]);\n}","map":{"version":3,"names":["id","_createElementVNode","key","type","_createElementBlock","_hoisted_1","_hoisted_2","_ctx","isAuthenticated","_hoisted_3","_hoisted_4","onSubmit","_cache","_withModifiers","args","register","$event","registerData","username","placeholder","required","password","_hoisted_5","_hoisted_6","login","loginData","_hoisted_7","_hoisted_8","_hoisted_9","_toDisplayString","protectedMessage","onClick","logout"],"sources":["/Users/john/Documents/Collage/MAD2/frontend/mad2/src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <h1>Vue.js & Flask User Authentication</h1>\n    <div v-if=\"!isAuthenticated\">\n      <h2>Register</h2>\n      <form @submit.prevent=\"register\">\n        <input v-model=\"registerData.username\" placeholder=\"Username\" required>\n        <input type=\"password\" v-model=\"registerData.password\" placeholder=\"Password\" required>\n        <button type=\"submit\">Register</button>\n      </form>\n\n      <h2>Login</h2>\n      <form @submit.prevent=\"login\">\n        <input v-model=\"loginData.username\" placeholder=\"Username\" required>\n        <input type=\"password\" v-model=\"loginData.password\" placeholder=\"Password\" required>\n        <button type=\"submit\">Login</button>\n      </form>\n    </div>\n\n    <div v-else>\n      <h2>Protected Content</h2>\n      <p>{{ protectedMessage }}</p>\n      <button @click=\"logout\">Logout</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      registerData: {\n        username: '',\n        password: ''\n      },\n      loginData: {\n        username: '',\n        password: ''\n      },\n      protectedMessage: '',\n      isAuthenticated: false\n    };\n  },\n  methods: {\n    async register() {\n      try {\n        await axios.post(http://127.0.0.1:5000/register', this.registerData);\n        alert('User registered successfully');\n      } catch (error) {\n        console.error(error);\n        alert('Registration failed');\n      }\n    },\n    async login() {\n      try {\n        const response = await axios.post('http://127.0.0.1:5000/login', this.loginData);\n        localStorage.setItem('token', response.data.access_token);\n        this.isAuthenticated = true;\n        this.getProtectedMessage();\n      } catch (error) {\n        console.error(error);\n        alert('Login failed');\n      }\n    },\n    async getProtectedMessage() {\n      try {\n        const response = await axios.get('http://localhost:5000/protected', {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        this.protectedMessage = response.data.logged_in_as.username;\n      } catch (error) {\n        console.error(error);\n        alert('Failed to fetch protected message');\n      }\n    },\n    logout() {\n      localStorage.removeItem('token');\n      this.isAuthenticated = false;\n      this.protectedMessage = '';\n    }\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  margin-top: 60px;\n}\n</style>\n"],"mappings":";;EACOA,EAAE,EAAC;AAAK;gCACXC,mBAAA,CAA2C,YAAvC,oCAAkC;;EAF1CC,GAAA;AAAA;gCAIMD,mBAAA,CAAiB,YAAb,UAAQ;gCAIVA,mBAAA,CAAuC;EAA/BE,IAAI,EAAC;AAAQ,GAAC,UAAQ;gCAGhCF,mBAAA,CAAc,YAAV,OAAK;gCAIPA,mBAAA,CAAoC;EAA5BE,IAAI,EAAC;AAAQ,GAAC,OAAK;;EAfnCD,GAAA;AAAA;gCAoBMD,mBAAA,CAA0B,YAAtB,mBAAiB;;uBAnBzBG,mBAAA,CAuBM,OAvBNC,UAuBM,GAtBJC,UAA2C,E,CAC/BC,IAAA,CAAAC,eAAe,I,cAA3BJ,mBAAA,CAcM,OAjBVK,UAAA,GAIMC,UAAiB,EACjBT,mBAAA,CAIO;IAJAU,QAAM,EAAAC,MAAA,QAAAA,MAAA,MALnBC,cAAA,KAAAC,IAAA,KAK6BP,IAAA,CAAAQ,QAAA,IAAAR,IAAA,CAAAQ,QAAA,IAAAD,IAAA,CAAQ;sBAC7Bb,mBAAA,CAAuE;IAN/E,uBAAAW,MAAA,QAAAA,MAAA,MAAAI,MAAA,IAMwBT,IAAA,CAAAU,YAAY,CAACC,QAAQ,GAAAF,MAAA;IAAEG,WAAW,EAAC,UAAU;IAACC,QAAQ,EAAR;iDAA9Cb,IAAA,CAAAU,YAAY,CAACC,QAAQ,E,mBACrCjB,mBAAA,CAAuF;IAAhFE,IAAI,EAAC,UAAU;IAP9B,uBAAAS,MAAA,QAAAA,MAAA,MAAAI,MAAA,IAOwCT,IAAA,CAAAU,YAAY,CAACI,QAAQ,GAAAL,MAAA;IAAEG,WAAW,EAAC,UAAU;IAACC,QAAQ,EAAR;iDAA9Cb,IAAA,CAAAU,YAAY,CAACI,QAAQ,E,GACrDC,UAAuC,C,4BAGzCC,UAAc,EACdtB,mBAAA,CAIO;IAJAU,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAZnBC,cAAA,KAAAC,IAAA,KAY6BP,IAAA,CAAAiB,KAAA,IAAAjB,IAAA,CAAAiB,KAAA,IAAAV,IAAA,CAAK;sBAC1Bb,mBAAA,CAAoE;IAb5E,uBAAAW,MAAA,QAAAA,MAAA,MAAAI,MAAA,IAawBT,IAAA,CAAAkB,SAAS,CAACP,QAAQ,GAAAF,MAAA;IAAEG,WAAW,EAAC,UAAU;IAACC,QAAQ,EAAR;iDAA3Cb,IAAA,CAAAkB,SAAS,CAACP,QAAQ,E,mBAClCjB,mBAAA,CAAoF;IAA7EE,IAAI,EAAC,UAAU;IAd9B,uBAAAS,MAAA,QAAAA,MAAA,MAAAI,MAAA,IAcwCT,IAAA,CAAAkB,SAAS,CAACJ,QAAQ,GAAAL,MAAA;IAAEG,WAAW,EAAC,UAAU;IAACC,QAAQ,EAAR;iDAA3Cb,IAAA,CAAAkB,SAAS,CAACJ,QAAQ,E,GAClDK,UAAoC,C,+CAIxCtB,mBAAA,CAIM,OAvBVuB,UAAA,GAoBMC,UAA0B,EAC1B3B,mBAAA,CAA6B,WAAA4B,gBAAA,CAAvBtB,IAAA,CAAAuB,gBAAgB,kBACtB7B,mBAAA,CAAuC;IAA9B8B,OAAK,EAAAnB,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEP,IAAA,CAAAyB,MAAA,IAAAzB,IAAA,CAAAyB,MAAA,IAAAlB,IAAA,CAAM;KAAE,QAAM,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}